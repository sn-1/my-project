(this.webpackJsonpHodophile=this.webpackJsonpHodophile||[]).push([[0],{191:function(e,t,a){"use strict";(function(e){var n=a(41),r=a(4),o=a(5),l=a(7),s=a(6),c=a(8),i=a(0),m=a.n(i),u=a(30),d=function(t){function a(){var t,o;Object(r.a)(this,a);for(var c=arguments.length,i=new Array(c),m=0;m<c;m++)i[m]=arguments[m];return(o=Object(l.a)(this,(t=Object(s.a)(a)).call.apply(t,[this].concat(i)))).state={username:"",password:"",errorUsername:"",errorPassword:""},o.handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;o.setState(Object(n.a)({},a,r))},o.handleFormSubmit=function(t){t.preventDefault(),o.state.username&&o.state.password?(fetch("/auth/login",{method:"POST",credentials:"include",mode:"cors",body:JSON.stringify({username:o.state.username,password:o.state.password}),headers:new Headers({"Content-Type":"application/json"})}).then((function(t){if(!t.ok)throw new Error(t.statusText);o.props.login().then((function(){e.$("#loginModal").modal("hide"),o.props.history.push("/profile")}))})).catch((function(e){o.setState({errorUsername:"",errorPassword:"Incorrect Username or Password. Please try again."})})),o.setState({username:"",password:"",errorUsername:"",errorPassword:""})):o.setState({errorUsername:"*Please fill out your username",errorPassword:"*Please fill out your password"})},o}return Object(c.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){return m.a.createElement("form",{autocomplete:"off"},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"username"},"Username"),m.a.createElement("input",{className:"form-control",value:this.state.username,name:"username",onChange:this.handleInputChange,type:"text",placeholder:"Username"}),m.a.createElement("p",{style:{color:"red",fontSize:"20px"}},this.state.errorUsername)),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"password"},"Password"),m.a.createElement("input",{className:"form-control",value:this.state.password,name:"password",onChange:this.handleInputChange,type:"password",placeholder:"Password"}),m.a.createElement("p",{style:{color:"red",fontSize:"20px"}},this.state.errorPassword)),m.a.createElement("button",{type:"button",onClick:this.handleFormSubmit,className:"btn btn-primary w-100"}," Log In"))}}]),a}(i.Component);t.a=Object(u.g)(d)}).call(this,a(49))},203:function(e,t,a){e.exports=a.p+"static/media/ls.5843b38a.png"},205:function(e,t,a){e.exports=a(442)},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},217:function(e,t,a){},220:function(e,t,a){},240:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),s=(a(210),a(4)),c=a(5),i=a(7),m=a(6),u=a(8),d=a(24),p=a(30),h=a(444);a(211);var f=function(e){return r.a.createElement("div",Object.assign({id:"carouselWrapperFade",className:"carousel slide carousel-fade","data-ride":"carousel"},e),e.children,r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("div",{className:"d-block w-100 img1"}),r.a.createElement("div",{className:"carousel-caption"},r.a.createElement("h1",null,r.a.createElement("a",{href:"https://www.nps.gov/grca/index.htm"},"Grand Canyon")))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-block w-100 img2"}),r.a.createElement("div",{className:"carousel-caption"},r.a.createElement("h1",null,r.a.createElement("a",{href:"https://www.indonesia.travel/us/en/destinations/java/bromo-tengger-semeru-national-park/mount-bromo"},"Bromo")))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("div",{className:"d-block w-100 img3"}),r.a.createElement("div",{className:"carousel-caption"},r.a.createElement("h1",null,r.a.createElement("a",{href:"https://ranchosantana.com/"},"Rancho Santana"))))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselWrapperFade",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselWrapperFade",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))},g=a(445),E=a(446);var v=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(h.a,{className:"my-5"},r.a.createElement(g.a,null,r.a.createElement(E.a,{"data-aos":"fade-up",className:"m-4 default"},r.a.createElement("h1",null,"Ready to get away?"),r.a.createElement("p",null,"Not quite?? That makes sense. Trips take a lot of planning. Let GroupAway help."),"With our app, you and your traveling companions can:",r.a.createElement("ul",null,r.a.createElement("li",null,"Collaborate to create a plan of ",r.a.createElement("strong",null,"when")," to go, ",r.a.createElement("strong",null,"where")," to go, and the attractions you all would like to visit."),r.a.createElement("li",null,"Chat and organize the details of your upcoming trip."),r.a.createElement("li",null,"View the schedule for your trip."),r.a.createElement("li",null,"Get your whole group on the same page."),r.a.createElement("li",null,"See a countdown to the start of your trip!")),r.a.createElement("p",null,"Get you group ready to get away with GroupAway!"),r.a.createElement("hr",null),r.a.createElement("h6",null,"If you\u2019re new, press \u201cRegister\u201d at the top of this page (it\u2019s free). If you have already started organizing a trip, just \u201cLog In\u201d to resume your plans.")))))},b=a(41),y=(a(212),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:"",passwordConfirm:"",errorUsername:"",errorPassword:"",errorConfirm:"",errorRequest:""},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(b.a)({},n,r))},a.handleFormSubmit=function(e){e.preventDefault(),a.state.username&&a.state.password&&a.state.passwordConfirm?a.state.password.length<6?a.setState({errorUsername:"",errorPassword:"*Password should be at least 6 characters long",errorConfirm:""}):a.state.password!==a.state.passwordConfirm?a.setState({errorUsername:"",errorPassword:"*Make sure your passwords match",errorConfirm:""}):(fetch("/auth/signup",{method:"POST",credentials:"include",mode:"cors",body:JSON.stringify({password:a.state.password,username:a.state.username}),headers:new Headers({"Content-Type":"application/json"})}).then((function(e){e.ok?a.props.login().then((function(){a.props.history.push("/profile")})):e.text().then((function(e){a.setState({errorRequest:e+" Please enter different username."})}))})).catch((function(e){return console.log(e)})),a.setState({username:"",password:"",passwordConfirm:"",errorUsername:"",errorPassword:"",errorConfirm:""})):a.setState({errorUsername:"*Please fill out your username",errorPassword:"*Please fill out your password",errorConfirm:"*Please confirm your password"})},a.form=Object(n.createRef)(),console.log(a.props,e),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.form.current.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){return r.a.createElement("form",{ref:this.form,autocomplete:"off",className:"p-4"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{className:"form-control",value:this.state.username,onChange:this.handleInputChange,name:"username",placeholder:"Username",type:"text"}),r.a.createElement("p",{className:"error"},this.state.errorUsername)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password (at least 6 characters long)"),r.a.createElement("input",{className:"form-control",value:this.state.password,onChange:this.handleInputChange,name:"password",placeholder:"Password",type:"password"}),r.a.createElement("p",{className:"error"},this.state.errorPassword)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"passwordConfirm"},"Confirm Password"),r.a.createElement("input",{className:"form-control",value:this.state.passwordConfirm,onChange:this.handleInputChange,name:"passwordConfirm",placeholder:"Confirm password",type:"password"}),r.a.createElement("p",{className:"error"},this.state.errorConfirm)),r.a.createElement("p",{className:"error"},this.state.errorRequest),r.a.createElement("button",{className:"btn btn-primary",onClick:this.handleFormSubmit},"Sign Up"))}}]),t}(n.Component));var C=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(h.a,{className:"my-5"},r.a.createElement(g.a,null,r.a.createElement(E.a,{xs:{span:12,order:2},md:{span:6,order:1},"data-aos":"fade-zoom-in"},r.a.createElement(y,e)),r.a.createElement(E.a,{xs:{span:12,order:1},md:{span:6,order:2},"data-aos":"fade-zoom-in"},r.a.createElement("h1",{style:{textAlign:"center",paddingTop:"100px",paddingBottom:"100px"}},"Join GroupAway to get started!")))))},w=a(191);var N=function(e){return r.a.createElement("div",{className:"modal fade",id:"loginModal",tabIndex:"-1",role:"dialog","aria-labelledby":"loginLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title mx-auto text-center",id:"loginLabel"},r.a.createElement("i",{className:"fas fa-luggage-cart"})," Welcome"),r.a.createElement("button",{type:"button",className:"close ml-0 p-2","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body m-2"},r.a.createElement(w.a,{login:e.login})))))},O=a(17),S=a(57),j=a(194),k=a(59),T=a(195),x=a(196),U=a(447),D=a(448);a(217);function I(e){return r.a.createElement(U.a,{show:e.show,id:"trip"},r.a.createElement(U.a.Dialog,null,r.a.createElement(U.a.Header,{closeButton:!0,onClick:e.close},r.a.createElement(U.a.Title,null,r.a.createElement("i",{className:"far fa-calendar-plus"})," Make a New Trip")),r.a.createElement(U.a.Body,null,r.a.createElement("form",Object.assign({},e,{autocomplete:"off"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Trip Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"title",placeholder:"Trip Name",value:e.title,name:"title",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorTitle)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleFormControlSelect2"},"Guests"),r.a.createElement("select",{multiple:!0,class:"form-control",id:"exampleFormControlSelect2",onChange:e.handleGuestsChange},(t=e.users,a=e.guests,t.map((function(e){var t=!!a.find((function(t){return t===e._id}));return r.a.createElement("option",{value:e._id,selected:t},e.username)}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"location"},"Location"),r.a.createElement("input",{type:"text",className:"form-control",id:"location",placeholder:"Location",value:e.location,name:"location",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorLocation)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"startDate"},"Start Date"),r.a.createElement("input",{type:"date",className:"form-control",id:"start",value:e.start,name:"start",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorStart)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"endDate"},"End Date"),r.a.createElement("input",{type:"date",className:"form-control",id:"end",value:e.end,name:"end",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorEnd)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{className:"form-control",id:"description",rows:"4",value:e.description,name:"description",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorDescription)))),r.a.createElement(U.a.Footer,null,r.a.createElement(D.a,{onClick:e.close,variant:"secondary"},"Close"),r.a.createElement(D.a,{onClick:e.save,variant:"primary",class:"newEvent"},"Save Trip"))));var t,a}var P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={days:0,hours:0,minutes:0,seconds:0},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.getTimeUntil(this.props.deadline)}},{key:"componentDidMount",value:function(){var e=this;setInterval((function(){return e.getTimeUntil(e.props.deadline)}))}},{key:"leading0",value:function(e){return e<10?"0"+e:e}},{key:"getTimeUntil",value:function(e){var t=Date.parse(e)-Date.parse(new Date),a=Math.floor(t/1e3%60),n=Math.floor(t/1e3/60%60),r=Math.floor(t/36e5%24),o=Math.floor(t/864e5);this.setState({days:o,hours:r,minutes:n,seconds:a})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"clock",style:{fontSize:"20px"}},this.leading0(this.state.days)," days, ",this.leading0(this.state.hours)," hours: ",this.leading0(this.state.minutes)," minutes: ",this.leading0(this.state.seconds)," seconds."))}}]),t}(n.Component),L=a(46),M=a.n(L);function A(e){return r.a.createElement(U.a,{show:e.show,id:"trip"},r.a.createElement(U.a.Dialog,null,r.a.createElement(U.a.Header,{closeButton:!0,onClick:e.close},r.a.createElement(U.a.Title,null,r.a.createElement("i",{className:"far fa-edit"})," Edit Your Trip")),r.a.createElement(U.a.Body,null,r.a.createElement("form",{autocomplete:"off"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Trip Name"),r.a.createElement("input",{type:"text",className:"form-control",id:"title",placeholder:"Trip Name",value:e.title,name:"title",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorTitle)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"exampleFormControlSelect2"},"Guests"),r.a.createElement("select",{multiple:!0,class:"form-control",id:"exampleFormControlSelect2",onChange:e.handleGuestsChange},(t=e.users,a=e.guests,t.map((function(e){var t=!!a.find((function(t){return t===e._id}));return r.a.createElement("option",{value:e._id,selected:t},e.username)}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"location"},"Location"),r.a.createElement("input",{type:"text",className:"form-control",id:"location",placeholder:"Location",value:e.location,name:"location",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorLocation)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"startDate"},"Start Date"),r.a.createElement("input",{type:"date",className:"form-control",id:"start",value:e.start,name:"start",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorStart)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"endDate"},"End Date"),r.a.createElement("input",{type:"date",className:"form-control",id:"end",value:e.end,name:"end",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorEnd)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{className:"form-control",id:"description",rows:"4",value:e.description,name:"description",onChange:e.handleInputChange}),r.a.createElement("p",{className:"error"},e.errorDescription))),r.a.createElement("div",null,M()(e.start).isSameOrAfter(M()())&&r.a.createElement("h4",null,r.a.createElement("i",{className:"far fa-clock"})," Trip Start"),M()(e.start).isSameOrAfter(M()())&&r.a.createElement(P,{deadline:e.start}))),r.a.createElement(U.a.Footer,null,r.a.createElement(D.a,{onClick:e.delete,variant:"danger",class:"deleteEvent"},"Delete Trip"),r.a.createElement(D.a,{onClick:e.save,variant:"primary",class:"saveEvent"},"Save Changes"))));var t,a}a(220);var R=a(35),F=a.n(R),W=function(e){return F.a.post("/api/calendar/delete/".concat(e))},_=function(){return F.a.get("/api/calendar/populated")},G=function(e){return F.a.get("/api/calendar/trip/".concat(e))},Y=function(e){return console.log(e),F.a.post("/api/calendar/add",e)},B=function(e,t){return F.a.post("/api/calendar/update/".concat(e),t)},z=function(){return F.a.get("/auth/user")},H=function(){return F.a.get("/api/users")},J=function(){return F.a.get("/auth/logout")},V=a(70),q=a.n(V),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).calendarComponentRef=r.a.createRef(),a.state={calendarWeekends:!0,eventSources:[],id:"",title:"",location:"",start:new Date,end:new Date,description:"",showModal:!1,errorTitle:"",errorLocation:"",errorStart:"",errorEnd:"",errorDescription:"",showCard:!1,users:[],guests:[]},a.handleEventClick=function(e){a.setState({showCard:!0}),a.handleTrip(e.event.extendedProps._id)},a.handleDeleteClick=function(){a.setState({showCard:!1}),a.handleDeleteTrip(a.state.id)},a.handleUpdateClick=function(){a.state.title&&a.state.start&&a.state.end&&a.state.description?(a.setState({showCard:!1}),a.handleUpdateTrip(a.state.id),a.setState({errorTitle:"",errorLocation:"",errorStart:"",errorEnd:"",errorDescription:""})):a.setState({errorTitle:"*Please enter your trip name",errorLocation:"*Please enter your trip location",errorStart:"*Please enter the start date",errorEnd:"*Please enter the end date",errorDescription:"*Please enter the description"})},a.handleTrip=function(e){G(e).then((function(e){var t=e.data.start,n=q()(t).tz("UTC").format("YYYY-MM-DD"),r=e.data.end,o=q()(r).tz("UTC").format("YYYY-MM-DD");a.setState({id:e.data._id,title:e.data.title,location:e.data.location,start:n,end:o,description:e.data.description,guests:e.data.guests})})).catch((function(e){return console.log(e)}))},a.handleDeleteTrip=function(e){W(e).then((function(){a.refreshTrips()})).catch((function(e){return console.log(e)}))},a.handleUpdateTrip=function(e){B(e,a.state).then((function(e){a.refreshTrips()})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target.value,n=e.target.name;a.setState(Object(b.a)({},n,t))},a.toggleWeekends=function(){a.setState({calendarWeekends:!a.state.calendarWeekends})},a.gotoPast=function(){a.calendarComponentRef.current.getApi().gotoDate("2000-01-01")},a.handleCloseClick=function(){a.setState({showModal:!1,showCard:!1,errorTitle:"",errorStart:"",errorLocation:"",errorEnd:"",errorDescription:""})},a.handleDateClick=function(){a.setState({showModal:!0,title:"",location:"",start:(new Date).getUTCHours(),end:(new Date).getUTCHours(),description:""})},a.handleGuestsChange=function(e){var t=Array.prototype.slice.call(e.target.options).filter((function(e){return e.selected})).map((function(e){return e.value}));a.setState({guests:t})},a.handleSaveTrip=function(){a.state.title&&a.state.start&&a.state.end&&a.state.description?(Y(a.state).then((function(){a.refreshTrips(),a.setState({showModal:!1})})).catch((function(e){return console.log(e)})),a.setState({title:"",location:"",start:(new Date).getUTCHours(),end:(new Date).getUTCHours(),description:"",errorTitle:"",errorLocation:"",errorStart:"",errorEnd:"",errorDescription:"",guests:[]})):a.setState({errorTitle:"*Please enter your trip name",errorLocation:"*Please enter your trip location",errorStart:"*Please enter the start date",errorEnd:"*Please enter the end date",errorDescription:"*Please enter the description"})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.refreshTrips(),this.getAllUsers()}},{key:"getAllUsers",value:function(){var e=this;H().then((function(t){e.setState({users:t.data})}))}},{key:"refreshTrips",value:function(){var e=this;_().then((function(t){e.setState({eventSources:t.data[0].trip.map((function(e){var t=q()(e.start).tz("UTC").format("YYYY-MM-DD"),a=q()(e.end).tz("UTC").add(1,"days").format("YYYY-MM-DD");return Object(S.a)({},e,{start:t,end:a})}))})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"demo-app"},r.a.createElement(I,Object.assign({show:this.state.showModal},this.state,{close:this.handleCloseClick,save:this.handleSaveTrip,handleInputChange:this.handleInputChange,handleGuestsChange:this.handleGuestsChange})),r.a.createElement(A,Object.assign({show:this.state.showCard},this.state,{close:this.handleCloseClick,delete:this.handleDeleteClick,save:this.handleUpdateClick,handleInputChange:this.handleInputChange,handleGuestsChange:this.handleGuestsChange})),r.a.createElement("div",{className:"demo-app-top mb-4"},r.a.createElement("button",{onClick:this.toggleWeekends,className:"btn btn-dark"},"toggle weekends"),"\xa0",r.a.createElement("button",{onClick:this.gotoPast,className:"btn btn-dark"},"go to a date in the past"),"\xa0 (also, click a date/time to add an event)"),r.a.createElement("div",{className:"demo-app-calendar"},r.a.createElement(j.a,{defaultView:"dayGridMonth",header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listWeek"},plugins:[k.d,T.a,x.a],ref:this.calendarComponentRef,weekends:this.state.calendarWeekends,events:this.state.eventSources,dateClick:this.handleDateClick,eventClick:this.handleEventClick})))}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={shouldRedirectToChat:!1},a.redirectToChat=a.redirectToChat.bind(Object(O.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"redirectToChat",value:function(){this.setState({shouldRedirectToChat:!0})}},{key:"render",value:function(){return this.state.shouldRedirectToChat?r.a.createElement(p.a,{to:"/chat"}):r.a.createElement(h.a,{fluid:!0,id:"profile",className:"m-0 p-0"},r.a.createElement(h.a,{className:"px-5",style:{marginTop:"50px",paddingTop:"50px",paddingBottom:"100px"}},r.a.createElement(g.a,{className:"text-justify"},r.a.createElement(E.a,{className:"col-md-6 p-4 text-profile"},r.a.createElement("p",null,"Welcome back, ",this.props.username,"!"),r.a.createElement("p",null,"Let's get started!",r.a.createElement("li",null,"Click anywhere on the calendar and a box will open to input your trip details."),r.a.createElement("li",null," If your travel companions have a GroupAway account, you can list them as Guests for a particular trip. Just choose their usernames from the dropdown menu."),r.a.createElement("li",null,"Explore your destination with the in-app ",r.a.createElement("strong",null,"Location")," feature."),r.a.createElement("li",null,"Use the in-app ",r.a.createElement("strong",null,"Chat")," to discuss your trip with friends and family.")))),r.a.createElement(g.a,{className:"my-5",id:"calendar-profile"},r.a.createElement(E.a,{className:"col-md-12 p-4"},r.a.createElement(K,null)))))}}]),t}(n.Component),Z=(a(240),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isTop:!0,shouldRedirectToChat:!1},a.redirectToChat=a.redirectToChat.bind(Object(O.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",(function(){var t=window.scrollY<30;t!==e.state.isTop&&e.setState({isTop:t})}))}},{key:"redirectToChat",value:function(){this.setState({shouldRedirectToChat:!0})}},{key:"render",value:function(){var e="navbar navbar-expand-lg fixed-top py-0";return this.state.isTop?e+=" navbar-dark bg-transparent":e+=" navbar-light bg-white",!1===this.props.isLoggedIn?r.a.createElement("nav",{className:e},r.a.createElement(d.b,{className:"navbar-brand",to:"/"},"GroupAway"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse float-right",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/register",className:"/register"===window.location.pathname?"nav-link active":"nav-link"},r.a.createElement("i",{className:"fas fa-user-plus"})," Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link","data-toggle":"modal","data-target":"#loginModal",href:"#"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," Log In"))))):this.state.shouldRedirectToChat?r.a.createElement(p.a,{to:"/chat"}):r.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-light bg-white py-0"},r.a.createElement(d.b,{className:"navbar-brand text-body",to:"/profile"},"GroupAway"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse float-right",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item m-2"},r.a.createElement(d.b,{to:"/profile",className:"/profile"===window.location.pathname?"nav-link active":"nav-link"},r.a.createElement("i",{className:"far fa-calendar-alt"})," Calendar")),r.a.createElement("li",{className:"nav-item m-2"},r.a.createElement(d.b,{to:"/location",className:"/location"===window.location.pathname?"nav-link active":"nav-link"},r.a.createElement("i",{className:"fas fa-map-marker-alt"})," Location ")),r.a.createElement("li",{className:"nav-item m-2"},r.a.createElement(d.b,{to:"/chat",className:"/chat"===window.location.pathname?"nav-link active":"nav-link",target:"_"},r.a.createElement("i",{className:"far fa-comment-dots"})," Chat ")),r.a.createElement("li",{className:"nav-item m-2"},r.a.createElement(d.b,{to:"/",className:"nav-link",onClick:this.props.logOut},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," Log Out")))))}}]),t}(r.a.Component)),Q=a(123),X=a.n(Q),ee=a(200),te=a(71),ae=a(62),ne=a(93),re=a.n(ne);var oe=Object(ae.withScriptjs)(Object(ae.withGoogleMap)((function(){var e=Object(n.useState)(null),t=Object(te.a)(e,2),a=t[0],o=t[1],l=r.a.useState(""),s=Object(te.a)(l,2),c=s[0],i=s[1],m=r.a.useState({lat:39.106667,lng:-94.676392}),u=Object(te.a)(m,2),d=u[0],p=u[1],h=r.a.useState(""),f=Object(te.a)(h,2),g=f[0],E=f[1],v=d,b=function(){var e=Object(ee.a)(X.a.mark((function e(t){var a,n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.geocodeByAddress)(t);case 2:return a=e.sent,e.next=5,Object(ne.getLatLng)(a[0]);case 5:n=e.sent,i(t),p(n),E(a[0].place_id),console.log(a[0].place_id);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=[],C={placeId:g,fields:["name","formatted_address","rating","formatted_phone_number","geometry"]},w=new window.google.maps.places.PlacesService(y);return r.a.createElement("div",null,r.a.createElement(re.a,{value:c,onChange:i,onSelect:b},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"Type address"})),r.a.createElement("div",null,o?r.a.createElement("div",null,"...loading"):null,a.map((function(e){var t={backgroundColor:e.active?"#41b6e6":"#fff"};return console.log(a),r.a.createElement("div",n(e,{style:t}),e.description)}))))})),r.a.createElement(ae.GoogleMap,{defaultZoom:10,center:v},r.a.createElement(ae.Marker,{position:new window.google.maps.LatLng(d.lat,d.lng),onClick:function(){o(c)}}),a&&r.a.createElement(ae.InfoWindow,{position:{lat:d.lat,lng:d.lng},onCloseClick:function(){o(null)},onClick:function(){w.getDetails(C,(function(e,t){if(t===window.google.maps.places.PlacesServiceStatus.OK){var a=new window.google.maps.Marker({map:y,position:e.geometry.location});window.google.maps.event.addListener(a,"click",(function(){window.infowindow.setContent("<div><strong>"+e.name+"</strong><br>Place ID: "+e.place_id+"<br>"+e.formatted_address+"</div>"),window.infowindow.open(y,this)}))}}))}},r.a.createElement("div",null,c))))})));var le=function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GOOGLE_KEY;return r.a.createElement(h.a,{fluid:!0,id:"profile",className:"m-0 p-0"},r.a.createElement(h.a,{className:"px-5 mx-auto",style:{marginTop:"50px",paddingTop:"50px",paddingBottom:"150px"}},r.a.createElement(g.a,{className:"text-justify mb-5"},r.a.createElement(E.a,{className:"col-md-12 p-3 text-profile"},r.a.createElement("p",{className:"m-0 p-0"},'Enter your destination in the box below the map. Choose "Map" or "Satellite" view (buttons top left of map). Display "Full Screen" (button top right of map). Happy exploring!'))),r.a.createElement(g.a,{className:"mx-0"},r.a.createElement(E.a,{"data-aos":"fade-up",className:"col-md-12 p-0"},r.a.createElement("div",{style:{width:"73vw",height:"85vh"}},r.a.createElement(oe,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat(e,"&libraries=geometry,drawing,places"),loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))))))},se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={username:""},a.onSubmit=a.onSubmit.bind(Object(O.a)(a)),a.onChange=a.onChange.bind(Object(O.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.username)}},{key:"onChange",value:function(e){this.setState({username:e.target.value})}},{key:"render",value:function(){return r.a.createElement(h.a,{fluid:!0,id:"profile",className:"m-0 p-0"},r.a.createElement(h.a,{className:"p-5",style:{marginTop:"50px",height:"800px"}},r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"col-md-6 p-3 text-profile"},r.a.createElement("h2",null,"What name do you want to use to chat?"),r.a.createElement("h6",null,"You will see who else is online once you're in the chat window."),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group m-0",style:{maxWidth:"400px",width:"100%"}},r.a.createElement("input",{className:"form-control mb-2",type:"text",placeholder:"Your Chat Name",onChange:this.onChange}),r.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Submit")))))))}}]),t}(n.Component),ce=a(126),ie=a(125),me=a.n(ie),ue=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={container:{overflowY:"scroll",flex:1},ul:{listStyle:"none"},li:{marginTop:13,marginBottom:13},senderUsername:{fontWeight:"bold"},message:{fontSize:15}};return r.a.createElement("div",{style:Object(S.a)({},this.props.style,{},e.container)},r.a.createElement("ul",{style:e.ul},this.props.messages.map((function(t,a){return r.a.createElement("li",{key:a,style:e.li},r.a.createElement("div",null,r.a.createElement("span",{style:e.senderUsername},t.senderId)," "),r.a.createElement("p",{style:e.message},t.text))}))))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={text:""},a.onSubmit=a.onSubmit.bind(Object(O.a)(a)),a.onChange=a.onChange.bind(Object(O.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSubmit(this.state.text),this.setState({text:""})}},{key:"onChange",value:function(e){this.setState({text:e.target.value}),this.props.onChange&&this.props.onChange()}},{key:"render",value:function(){var e={container:{padding:20,borderTop:"1px #4C758F solid",marginBottom:20},form:{display:"flex"},input:{color:"inherit",background:"none",outline:"none",border:"none",flex:1,fontSize:16}};return r.a.createElement("div",{style:e.container},r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit,style:e.form},r.a.createElement("input",{type:"text",placeholder:"Type a message here then press ENTER",onChange:this.onChange,value:this.state.text,style:e.input}))))}}]),t}(n.Component),pe=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.usersWhoAreTyping.length>0?r.a.createElement("div",null,"".concat(this.props.usersWhoAreTyping.slice(0,2).join(" and ")," is typing")):r.a.createElement("div",null)}}]),t}(n.Component),he=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"renderUsers",value:function(){var e=this;return r.a.createElement("ul",null,this.props.users.map((function(t,a){return t.id===e.props.currentUser.id?r.a.createElement(fe,{key:a,presenceState:"online"},t.name," (You)"):r.a.createElement(fe,{key:a,presenceState:t.presence.state},t.name)})))}},{key:"render",value:function(){return this.props.users?this.renderUsers():r.a.createElement("p",null,"Loading...")}}]),t}(n.Component),fe=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e={li:{display:"flex",alignItems:"center",marginTop:30,marginBottom:5,paddingTop:2,paddingBottom:2},div:{borderRadius:"50%",width:11,height:11,marginRight:10}};return r.a.createElement("li",{style:e.li},r.a.createElement("div",{style:Object(S.a)({},e.div,{backgroundColor:"online"===this.props.presenceState?"#539eff":"#414756"})}),this.props.children)}}]),t}(n.Component),ge=he,Ee=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_CHAT_INSTANCE_LOCATOR,ve=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_CHAT_ROOM_ID,be=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={currentUser:{},currentRoom:{},messages:[],usersWhoAreTyping:[]},a.sendMessage=a.sendMessage.bind(Object(O.a)(a)),a.sendTypingEvent=a.sendTypingEvent.bind(Object(O.a)(a)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"sendTypingEvent",value:function(){this.state.currentUser.isTypingIn({roomId:this.state.currentRoom.id}).catch((function(e){return console.error("error",e)}))}},{key:"sendMessage",value:function(e){this.state.currentUser.sendMessage({text:e,roomId:this.state.currentRoom.id})}},{key:"componentDidMount",value:function(){var e=this;new me.a.ChatManager({instanceLocator:Ee,userId:this.props.currentUsername,tokenProvider:new me.a.TokenProvider({url:"/authenticate"})}).connect().then((function(t){return e.setState({currentUser:t}),t.subscribeToRoom({roomId:ve,messageLimit:100,hooks:{onMessage:function(t){e.setState({messages:[].concat(Object(ce.a)(e.state.messages),[t])})},onUserStartedTyping:function(t){e.setState({usersWhoAreTyping:[].concat(Object(ce.a)(e.state.usersWhoAreTyping),[t.name])})},onUserStoppedTyping:function(t){e.setState({usersWhoAreTyping:e.state.usersWhoAreTyping.filter((function(e){return e!==t.name}))})},onPresenceChange:function(){return e.forceUpdate()}}})})).then((function(t){e.setState({currentRoom:t})})).catch((function(e){return console.error("error",e)}))}},{key:"render",value:function(){var e={container:{marginTop:"100px",height:"100vh",display:"flex",flexDirection:"column"},chatContainer:{display:"flex",flex:1},whosOnlineListContainer:{width:"300px",flex:"none",padding:20,backgroundColor:"#2c303b",color:"white"},chatListContainer:{padding:20,width:"85%",display:"flex",flexDirection:"column"}};return r.a.createElement("div",{style:e.container},r.a.createElement("div",{style:e.chatContainer},r.a.createElement("aside",{style:e.whosOnlineListContainer},r.a.createElement(ge,{currentUser:this.state.currentUser,users:this.state.currentRoom.users})),r.a.createElement("section",{style:e.chatListContainer},r.a.createElement(ue,{messages:this.state.messages,style:e.chatList}),r.a.createElement(pe,{usersWhoAreTyping:this.state.usersWhoAreTyping}),r.a.createElement(de,{onSubmit:this.sendMessage,onChange:this.sendTypingEvent}))))}}]),t}(n.Component),ye=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={currentUsername:"",currentScreen:"WhatIsYourUsernameScreen"},e.onUsernameSubmitted=e.onUsernameSubmitted.bind(Object(O.a)(e)),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onUsernameSubmitted",value:function(e){var t=this;fetch("/users",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}).then((function(a){t.setState({currentUsername:e,currentScreen:"ChatScreen"})})).catch((function(e){return console.error("error",e)}))}},{key:"render",value:function(){return"WhatIsYourUsernameScreen"===this.state.currentScreen?r.a.createElement(se,{onSubmit:this.onUsernameSubmitted}):"ChatScreen"===this.state.currentScreen?r.a.createElement(be,{currentUsername:this.state.currentUsername}):void 0}}]),t}(n.Component),Ce=a(203),we=a.n(Ce);var Ne=function(){return r.a.createElement(h.a,{className:"mt-4"},r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("img",{src:we.a}),r.a.createElement("h1",null,"But ... YOU ... you're lost!"),r.a.createElement("hr",null),r.a.createElement("h2",null,"404 \u2014 Page Not Found"),r.a.createElement(d.b,{to:"/"},r.a.createElement("button",{className:"btn btn-warning mb-2",style:{fontSize:"20px"}},"Wander over to GroupAway's home page")),r.a.createElement("h6",null,"Art by Chelsie Tamms")))))},Oe=(a(441),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,username:""},a.logIn=function(){return z().then((function(e){a.setState({isLoggedIn:e.data.loggedIn,username:e.data.username})}))},a.logOut=function(){J().then((function(e){a.setState({isLoggedIn:!1,username:""})}))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.logIn()}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(h.a,{fluid:!0,className:"p-0"},r.a.createElement(Z,{logOut:this.logOut,isLoggedIn:this.state.isLoggedIn,username:this.state.username}),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:v}),r.a.createElement(p.b,{exact:!0,path:"/profile",component:function(){return r.a.createElement($,{username:e.state.username})}}),r.a.createElement(p.b,{exact:!0,path:"/register",render:function(t){return r.a.createElement(C,Object.assign({},t,{login:e.logIn}))}}),r.a.createElement(p.b,{exact:!0,path:"/location",component:le}),r.a.createElement(p.b,{exact:!0,path:"/chat",component:ye}),r.a.createElement(p.b,{component:Ne})),r.a.createElement(N,{login:this.logIn})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[205,1,2]]]);
//# sourceMappingURL=main.6f68bf57.chunk.js.map