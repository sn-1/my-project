{"ast":null,"code":"import _defineProperty from\"/Users/sanjidanawrin/n3/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/sanjidanawrin/n3/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sanjidanawrin/n3/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/sanjidanawrin/n3/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/sanjidanawrin/n3/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/sanjidanawrin/n3/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{withRouter}from'react-router-dom';var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);function LoginForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,LoginForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(LoginForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={username:\"\",password:\"\",errorUsername:\"\",errorPassword:\"\"};_this.handleInputChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){event.preventDefault();if(_this.state.username&&_this.state.password){fetch(\"/auth/login\",{method:\"POST\",credentials:\"include\",mode:\"cors\",body:JSON.stringify({username:_this.state.username,password:_this.state.password}),headers:new Headers({\"Content-Type\":\"application/json\"})}).then(function(response){if(!response.ok){throw new Error(response.statusText);}_this.props.login().then(function(){global.$(\"#loginModal\").modal(\"hide\");_this.props.history.push('/profile');});}).catch(function(err){_this.setState({errorUsername:\"\",errorPassword:\"Incorrect Username or Password. Please try again.\"});});_this.setState({username:\"\",password:\"\",errorUsername:\"\",errorPassword:\"\"});}else{_this.setState({errorUsername:\"*Please fill out your username\",errorPassword:\"*Please fill out your password\"});}};return _this;}_createClass(LoginForm,[{key:\"render\",value:function render(){return React.createElement(\"form\",{autocomplete:\"off\"},React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"username\"},\"Username\"),React.createElement(\"input\",{className:\"form-control\",value:this.state.username,name:\"username\",onChange:this.handleInputChange,type:\"text\",placeholder:\"Username\"}),React.createElement(\"p\",{style:{color:\"red\",fontSize:\"20px\"}},this.state.errorUsername)),React.createElement(\"div\",{className:\"form-group\"},React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),React.createElement(\"input\",{className:\"form-control\",value:this.state.password,name:\"password\",onChange:this.handleInputChange,type:\"password\",placeholder:\"Password\"}),React.createElement(\"p\",{style:{color:\"red\",fontSize:\"20px\"}},this.state.errorPassword)),React.createElement(\"button\",{type:\"button\",onClick:this.handleFormSubmit,className:\"btn btn-primary w-100\"},\" Log In\"));}}]);return LoginForm;}(Component);;export default withRouter(LoginForm);","map":{"version":3,"sources":["/Users/sanjidanawrin/n3/client/src/components/LoginForm/index.js"],"names":["React","Component","withRouter","LoginForm","state","username","password","errorUsername","errorPassword","handleInputChange","event","target","name","value","setState","handleFormSubmit","preventDefault","fetch","method","credentials","mode","body","JSON","stringify","headers","Headers","then","response","ok","Error","statusText","props","login","global","$","modal","history","push","catch","err","color","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\n\nclass LoginForm extends Component {\n    state = {\n        username: \"\",\n        password: \"\",\n        errorUsername: \"\",\n        errorPassword: \"\"\n    }\n\n    handleInputChange = event => {\n        const { name, value } = event.target;\n        this.setState({\n            [name]: value\n        });\n    };\n\n    handleFormSubmit = event => {\n        event.preventDefault();\n        if (this.state.username && this.state.password) {\n            fetch(\"/auth/login\", {\n                method: \"POST\",\n                credentials: \"include\",\n                mode: \"cors\",\n                body: JSON.stringify({\n                    username: this.state.username,\n                    password: this.state.password\n                }),\n                headers: new Headers({\n                    \"Content-Type\": \"application/json\"\n                })\n            })\n                .then(response => {\n                    if (!response.ok) {\n                        throw new Error(response.statusText);\n                    }\n                    this.props.login().then(() => {\n                        global.$(\"#loginModal\").modal(\"hide\");\n                        this.props.history.push('/profile')\n                    })\n\n                })\n                .catch(err => {\n                    this.setState({\n                        errorUsername: \"\",\n                        errorPassword: \"Incorrect Username or Password. Please try again.\"\n                    })\n                });\n\n            this.setState({\n                username: \"\",\n                password: \"\",\n                errorUsername: \"\",\n                errorPassword: \"\"\n            });\n        } else {\n            this.setState({\n                errorUsername: \"*Please fill out your username\",\n                errorPassword: \"*Please fill out your password\"\n            })\n        }\n\n    };\n\n    render() {\n\n        return (\n            <form autocomplete=\"off\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"username\">Username</label>\n                    <input className=\"form-control\"\n                        value={this.state.username}\n                        name=\"username\"\n                        onChange={this.handleInputChange}\n                        type=\"text\"\n                        placeholder=\"Username\"\n                    />\n                    <p style={{ color: \"red\", fontSize: \"20px\" }}>{this.state.errorUsername}</p>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Password</label>\n                    <input className=\"form-control\"\n                        value={this.state.password}\n                        name=\"password\"\n                        onChange={this.handleInputChange}\n                        type=\"password\"\n                        placeholder=\"Password\"\n                    />\n                    <p style={{ color: \"red\", fontSize: \"20px\" }}>{this.state.errorPassword}</p>\n                </div>\n                <button type=\"button\" onClick={this.handleFormSubmit}\n                    className=\"btn btn-primary w-100\"\n                > Log In\n                </button>\n            </form>\n        )\n    }\n};\n\nexport default withRouter(LoginForm);"]},"metadata":{},"sourceType":"module"}